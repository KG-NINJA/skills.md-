<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<title>Safe SKILL.md Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<style>
body {
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  background: #0f1220;
  color: #e6e6eb;
  padding: 2rem;
}
label {
  display: block;
  margin-top: 1.2rem;
  font-weight: 600;
}
input, textarea {
  width: 100%;
  margin-top: .4rem;
  padding: .6rem;
  background: #1b1f3a;
  color: #fff;
  border: 1px solid #333;
  border-radius: 6px;
  font-family: monospace;
}
textarea {
  min-height: 120px;
}
button {
  margin-top: 1.5rem;
  padding: .8rem 1.2rem;
  background: #4f7cff;
  border: none;
  border-radius: 8px;
  color: #fff;
  cursor: pointer;
}
pre {
  margin-top: 2rem;
  background: #05060d;
  padding: 1rem;
  border-radius: 8px;
  overflow-x: auto;
}
</style>
</head>
<body>

<h1>SKILL.md（壊れない版）</h1>

<label>
Skill ID（英数字・ハイフンのみ）
<input id="name" placeholder="fmongen" />
</label>

<label>
短い説明（1行）
<input id="description" placeholder="FM sound generator skill" />
</label>

<label>
Instructions（自由記述・YAML外）
<textarea id="instructions" placeholder="- Do something&#10;- Constraints&#10;- Notes"></textarea>
</label>

<button onclick="generate()">生成</button>

<pre id="output"></pre>

<script>
function safe(str) {
  return str
    .replace(/"/g, "'")
    .replace(/\n/g, " ")
    .trim();
}

function generate() {
  const name = safe(document.getElementById("name").value) || "template-skill";
  const description = safe(document.getElementById("description").value)
    || "Replace with description.";

  const instructions = document.getElementById("instructions").value.trim()
    || "- Write instructions here";

  const result =
`---
name: ${name}
description: "${description}"
model: gpt-5-codex
---

# Instructions

${instructions}
`;

  document.getElementById("output").textContent = result;
}
</script>

</body>
</html>
